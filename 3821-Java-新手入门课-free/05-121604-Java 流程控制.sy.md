---
show: step
version: 1.0
enable_checker: true
---

# Java 流程控制

## 这节课，来点更专业的

你终于来了，快搬个小板凳坐下，今天我们来学点更专业的东西～

![图片描述](https://doc.shiyanlou.com/courses/uid8504-20190507-1557216396831)

在上节课中，我们都是在学习 Java 中非常基础的语法知识。本节实验课我们需要来学习流程控制语句。

#### 知识点

- 流程控制
- 分支语句
- 循环语句
- 跳转语句

## 流程控制

下面，我们来学习计算机系统中的一大核心知识——流程控制。

**「 流程控制 」**是一个程序的关键所在。简单的说，「流程控制」就是告诉计算机什么时候该干什么事。比如一个游戏中，你要让计算机清晰地知道 —— 什么情况下会掉血，按下什么键代表攻击，过多久能复活……

Java 中流程控制语句主要分为：

- 分支语句
- 循环语句
- 跳转语句

接下来，我们先来学习流程控制中的最简单的分支语句。

### 分支语句

**Java 中分支语句又称为条件判断语句。**

其实我们每天都生活在条件判断中：早上如果闹钟 ⏰ 响了，执行起床/赖床程序；如果到了 12 点，执行吃饭程序；如果到了 6 点，执行下班或放学……

如果有一天，你的女朋友对你说，“下班买 2 个西瓜回来”，你会这样执行：

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/ffe6ab46f3aae73a46342c0f363424ed-0/wm)

换成 Java 代码，买西瓜的程序还是一样的，只不过把 `如果`、`否则` 换成了 `if`、`else` 。

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/edcf9738ece349066868c984af017d42-0/wm)

挺容易理解的吧？其实就是用代码告诉计算机：**什么条件下该做什么**。

很多编程语言都会使用 `if` 、`else` 作为流程控制的关键字，当然了 Java 也不例外。

**Java 中分支语句有三种表现形式：**

1. ##### 最基本格式，也是最简单的格式

```txt
if(条件){

	满足条件所需要做的事情

}
```

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/357155f6c27cd92faf2258cdf6a68217-0/wm)

🔔**注意：条件的返回值必须是布尔类型值，也就是说只能返回 true 或 false**，可以使用之前所学的关系运算符进行条件的书写。

比如说，学生考证，分数必须达到 80 分才能通过，不然就拿不到证书，我们可以这样写：

```java
public class JavaControlDemo{
    public static void main(String[] args){
        int score = 100;
        if(score >= 80){
            System.out.println("恭喜你，通过考试可以拿证书了！");
        }
    }
}
```

运行代码 👆 后可以看到输出：「恭喜你，通过考试可以拿证书了！」。

现在我声明的变量 `score = 100` ，`100 >= 80` 条件返回的是 `true`，说明条件满足，输出语句中的内容正常输出。

当我们修改变量 `score = 79` 时，再运行代码后，输出结果啥都不显示对吧，为啥？

条件不满足 `（79 >= 80）`返回 `false`，程序就已经走完结束了。

然而对于使用该程序的用户会等着显示结果，可等了很久都没有显示任何内容，但其实程序已经结束，这样的话用户体验度就不好了，所以我们需要采用第二种 **if** 语句表现形式。

👇

2. ##### 较为完善的格式，添加了 else 关键字

```txt
if(条件){

	满足条件所需要做的事情

}else{

	不满足条件所需要做的事情

}
```

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/4c2cc3eb9ed25b875712b18dfb72153e-0/wm)

改进上面所写的代码：

```java
public class JavaControlDemo{
    public static void main(String[] args){
        int score = 79;
        if(score >= 80){
            System.out.println("恭喜你，通过考试可以拿证书了！");
        }else{
            System.out.println("回家好好努力，下次继续加油！");
        }
    }
}
```

运行结果如下：

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/6cf161959155874e1927d576f43fbb98-0/wm)

接下来呢，现在需求又需要改进 80 分通过考试不变的基础上，如分数达到 95 分以上可以拿到高级证书，如果是这样的话基本的 if else 就不够用了，需要提到 **else if** 的语句来使用了。那么我们需要提到第三种 **if** 语句的表现形式了。

👇

3. ##### 多分支语句

```txt
if(条件1){   // 只要满足以下任何一个条件，剩下的判断都不再执行，以便于提高执行效率

	满足条件1所需要做的事情

}else if(条件2){

	满足条件2所需要做的事情

}else if(条件n){

	满足条件n所需要做的事情

}else{

	不满足以上所有条件所需要做的事情

}
```

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/1cb220b5e0d1852864fd1e43172d1624-0/wm)

然后我们继续改进代码如下：

```java
public class JavaControlDemo{
    public static void main(String[] args){
        int score = 100;
        if(score >= 95){
            System.out.println("太棒了，优秀如你！");
        }else if(score >= 80){
            System.out.println("恭喜你，通过考试可以拿证书了！");
        }else{
            System.out.println("回家好好努力，下次继续加油！");
        }
    }
}
```

简单分析一下改进后的代码，当 `score = 100` 时，执行条件 `score >= 95` ，就等于 `100 >= 95` ，可见判断是可以成立的，运行结果将会输出「太棒了，优秀如你！」；那么条件 `score >= 80` 将不需要再进行判断，多分支语句在使用时，当找到一个完全匹配的条件，其他条件将忽略，这就是 `else if` 的使用方式。

🔔 **注意：**

我们再总结一下，使用 if 分支语句时，一定要记住：

1. **条件判断**表达式**返回值**的必须是 **boolean 类型值**。
2. 在条件表达式之后：
   - 当只有一条执行语句时，花括号可以省略；
   - 当多条执行语句时，花括号必须加上；
   - **在 Java 程序中使用分支语句建议都加上花括号**。
3. else if 语句使用时，**else 和 if 之间有空格**，只要**满足任何一个条件，剩下的判断都不再执行**。
4. **else 语句**之后不能再加判断条件了，当然 else 语句不是必须要有的，但**加上程序结构比较完整**。

⭐ **动手练一练：**自己看一看运行效果吧！

```checker
- name: 检查文件是否存在
  script: |
    ls /home/shiyanlou/Code/JavaControlDemo.java
  error: /home/shiyanlou/Code 路径下方不存在 JavaControlDemo.java
  timeout: 2
```

### 循环控制

对人类来说，**「循环」**糟糕透了，它往往意味着重复和枯燥。但大多数人都在循环中工作和生活，比如收集用户信息、下载 500 张图片、上 12306 抢春运的火车票、给 20 个亲戚解释你不是修电脑的……想想就如噩梦一般，相信没有人想过这种流水线的生活。

但有了计算机，一切都大不一样了：它任劳任怨、不会抱怨，而且工作速度比人快成千上万倍。你只需要制订好一些规则，然后在旁边泡杯茶，看云展云舒即可。

现在要开始学习循环了。循环就像 if 语句一样简单，但是更加有趣。

Java 中常用的循环有两种方式，一种是 `for 循环`，一种是 `while 循环`。

以下就是循环的基本流程：

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/8b3835396452b42a7ad13a91eef66648-0/wm)

只要循环条件为 `true`，则会一次又一次地执行语句块。从流程图中来看，首先，读取 `表达式 1` 的初始信息；然后计算 `表达式 2` ，当计算返回值为 `true`，则执行循环体内语句块内容，完成后执行 `表达式 3` 中迭代部分，根据 `表达式3` 计算后的结果，需要再次计算 `表达式 2` 条件，如果条件返回值为 `true`，则再次执行循环体。不断重复此操作，直至条件返回值为 `false`，循环结束。

#### 💡 while 循环

其语法格式如下：

```txt
初始化
while (条件){

	循环体

	迭代
}
```

**while 是关键字**，条件的返回值必须是 boolean 值，当条件返回值为 true 时，一直执行循环体，直到条件返回 false，结束循环。

比如，小桃子是个爱美的小姑娘，需要保持苗条的身材，每天晚上都跑步运动，她给自己设定跑完 10 圈才休息，我们可以使用代码来实现跑步记录：

```java
public class JavaControlDemo{
    public static void main(String[] args){
        int i = 1;
        while (i <= 10){
            System.out.println("小桃子第 " + i + " 圈跑完了。");
            i++;
        }
        System.out.println("可以回家休息了！");
    }
}
```

怎么理解上面 👆 所写的代码呢？

小桃子要跑 10 圈，也就是说肯定是从第 1 圈 跑到 第 10 圈，从第 1 圈开始跑，那么初始值就需要定义变量 `i = 1`，而 `int i = 1` 就是初始化的过程，然后进行循环条件判断，循环条件为 `i <= 10` ，当前，变量 `i = 1`，那么 `1 <= 10` 条件成立返回 `true`，执行循环语句这里就是输出语句，程序打印输出「小桃子第 1 圈跑完了。」，然后变量 i 需要自增，执行 `i++` 操作这就是迭代语句，随后变量 i 自增后 `i = 2`，接下来继续去执行条件 `i <= 10`，那就是 `2 <= 10` 条件成立返回 `true`，继续执行输出「小桃子第 2 圈跑完了。」，一直到变量 `i = 11`，执行条件 `11 <= 10` 返回值为 `false` 时，结束整个循环，然后执行后续语句。

保存文件，编译和运行代码，结果如下 👇

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/f9ed42d1dde540fd4481ddb713b89708-0/wm)

**循环还是挺简单有趣的对吗，自己动手试一试吧！**

#### 💡 for 循环

**for 循环**是一种结构比较简洁的循环语句，for 是关键字。

其语法格式如下：

```txt
for(初始化; 条件; 迭代){

    循环体语句块

}
```

从上面的格式我们会发现，其实在 Java 中 for 和 while 是等价的，只是使用 for 的书写格式更为简洁，我们看看以下代码就一目了然了。

```java
// while循环表现形式
int i = 1;
while (i <= 10){
    System.out.println("小桃子第 " + i + " 圈跑完了。");
    i++;
}

// for循环表现形式
for(int i = 1; i <= 10; i++){
	System.out.println("小桃子第 " + i + " 圈跑完了。");
}
```

⭐**注意：**

- for 循环中 初始化、条件、迭代 这三部分采用英文分号（ ；）进行分隔，这个分号不能缺少。

- 不管是 while 循环还是 for 循环 ，循环次数要认真设置，**尽量避免无限循环**，也就是循环停不下来的情况不要出现。

**🔥 小练习：帮依萍写日记**

![图片描述](https://doc.shiyanlou.com/courses/uid8504-20190522-1558515539550)

书桓走后，可怜的依萍每天只能对着日记，遥寄思念。现在，请你用 for 循环帮依萍写出 “书桓走的第 n 天，想他”，一直写到第 10 天。

**💡 提示：**

- for / while 循环语句
- 字符串连接符 + 使用
- System.out.println("书桓走的第 1 天，想他");

```checker
- name: 检查程序是否能正确运行
  script: |
    cd /home/shiyanlou/Code/
    java JavaControlDemo
  error: 未正确编译和执行 JavaControlDemo 程序
  timeout: 5
```

### 💡 跳转语句

#### 💡 break

在循环中，我们可以使用 `break` 和 `continue` 这两个关键字，来进一步控制流程。

`break` 表示终止整个循环，如：

```java
public class JavaControlDemo{
    public static void main(String[] args){
        for(int i = 1; i <= 10; i++){
            if(i == 6){
                // 当 i 等于 6 时，for 循环结束
                break;
            }
            System.out.println(i);
        }
    }
}
```

我们来分析一下程序的执行过程：初始化 `i = 1`，执行循环条件 `i <= 10` ,那就等于 `1 <= 10`，进入循环体，执行 if 条件判断语句，`i == 6` 就等于 `1 == 6` 条件返回值为 `false` ，执行输出语句打印出「 1 」，然后执行 `i++` 迭代语句，i 递增后为 2 ；这时需要重新执行循环条件判断 `i <= 10`，当前 `i = 2` ，那就等于 `2 <= 10` 返回值 `true`，再次进入循环体，执行输出语句打印出「 2 」；当 `i = 6` 时，进入循环体后，执行条件判断语句 `i == 6` ，这时 `6 == 6` 条件判断成立，返回值为 `true`，就需要执行 `break` 语句，`for` 循环将终止，**最终程序会打印 1 到 5 之间的数字**。

⭐ **动手练一练：**执行代码看看结果吧！

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/bef1b9435eecd675eb3a1dbcc8090963-0/wm)

#### 💡 continue

`continue` 表示忽略本次循环剩下的语句，去执行下一轮循环。

比如这次我们想打印 1 到 10 的数，但不想打印 5 ，代码可以这样写：

```java
public class JavaControlDemo{
    public static void main(String[] args){
        for(int i = 1; i <= 10; i++){
            if(i == 5){
                // 当 i 等于 5 时，循环体中剩下的语句将会被忽略，也就以下的输出语句不被执行。
                continue;
            }
            System.out.println(i);
        }
    }
}
```

如果你已经明白上一段使用 break 的语句，那么这段代码就是将 break 改成了 continue，当 `i = 5` 时，`i == 5` 条件判断是成立的，返回的是 `true`，执行 continue 语句，那么输出语句将不会输出 5 ，而是接着执行迭代部分 `i++` ；当 `i = 6` 时，`i <= 10` 条件还是成立的会返回 true ，继续执行循环体中的语句，打印出「 6 」，直到 `i = 11`，循环条件 `11 <= 10` 不成立返回 `false` ，循环结束。

🔔 **注意：**break 和 continue 跳转语句**需要在循环语句中使用**。

⭐ **动手练一练：**执行代码看看结果吧！

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/6cca558d1bb4e19e5b6eaa74981a1c8f-0/wm)

**至此，流程控制语句就讲完了，**不过你可能还有一个疑惑，到底**如何去区分使用 for 还是 while 循环**，是吗？之前我在讲 for 循环的时候就说过**其实 for 和 while 语句是等价的**，也就是说完成一些循环功能时使用 for 或 while 都是可以实现的。**一般我们会做如下选择：**

- 一般循环操作，我们首先会考虑采用 for 循环语句，因为 for 的结构比较简洁，语句清晰；

- 如果所需要操作的循环，对于循环次数无法确定时，我们会使用 while 循环来进行操作，然后配合 break 语句来确定何时结束循环，例如：

```java
while(true){
	if(循环结束条件){
		break;
	}
}
```

如果无法确定循环结束条件，那么就会变成无限循环，这个一定要注意，尽量避免无限循环的书写。

**流程控制在编程中非常重要，请下来多多练习和总结，后面还有一个挑战等待你完成。**

## 玩转实验环境

为了大家能更好地使用实验环境，我们有必要简单介绍下右侧工具栏的功能。

相信很多同学都发现了，我们右侧的工具栏有很多按钮，它们的功能分别如下：

#### 💡 切换界面

实验启动后，默认进入的界面是图形界面（桌面），如果使用图形界面感觉较卡，可以尝试切换到字符界面。点击该按钮可以在两种界面之间切换。

#### 💡 剪切板

学习界面工具栏上有一个剪刀按钮，点击此按钮会打开剪切板。

![图片描述](https://doc.shiyanlou.com/courses/uid871732-20200707-1594089224658/wm)

剪切板用来在外部与实验环境之间进行拷贝与粘贴。部分环境支持直接复制文档内容，并在环境中完成粘贴。

**向环境拷入内容：**如果要拷贝内容到实验环境，只需将内容复制粘贴到剪切板的输入框，点击保存按钮，实验环境内部即可使用右键粘贴到这些内容。

**从环境拷出内容：**在环境中使用右键选择复制，然后打开剪切板，剪切板中的输入框显示内容即实验环境中的系统剪切板内容。

#### 💡 共享桌面

点击共享桌面，可以把自己的桌面分享给其他人。共享桌面的主要应用场景是演示操作和协作答疑。目前蓝桥云课的课程都由助教提供共享桌面的实时答疑服务。

点击共享桌面会弹出 2 个链接，分别对应共享桌面的两种模式：

- 只读模式：对方只能远程观看你的操作，主要应用在远程教学演示操作。
- 协作模式：对方可以在你的实验环境中进行操作。当你遇到问题时，就可以把协作链接分享给朋友或老师，以便对方进行远程协助。

根据需要将对应的链接发给朋友，朋友即可访问你的桌面。

![](https://raw.githubusercontent.com/shiyanlou/shiyanlou-docs/master/images/sharedesktop.jpg)

#### 💡 下载代码

点击 **下载代码** 按钮，会将实验环境中的 /home/shiyanlou/Code 目录自动打包并下载到本地。你可以将代码等需要导出的文件放到这个目录下。

#### 💡 上传文件

点击 **上传文件** 按钮，可以上传一个大小不超过 5M 的文件到 /home/shiyanlou/Code 目录下。

![图片描述](https://doc.shiyanlou.com/courses/uid871732-20200707-1594089497988/wm)

#### 💡 环境信息

点击 **环境信息** 按钮可以看到当前 shiyanlou 用户的默认密码，当然你也可以使用 `sudo passwd shiyanlou` 命令自己设置。

![图片描述](https://doc.shiyanlou.com/courses/uid871732-20200707-1594089636812/wm)

#### 💎 保存环境（会员)

开通会员后，支持保存 2 个环境和联网等功能，**相当于拥有了 2 台可以长期保存的专属实验机。**

当你实验没有做完、或者临时有事需要离开时，就可以把环境保存起来，下次实验时继续使用该环境，里面的配置、代码等等都不会改变。

#### 💎 SSH 直连（会员)

如果你的网络较慢，或者实验环境较卡，可以使用 SSH 直连的方式连接实验环境。

SSH 直连指的是使用本地的 SSH 客户端连接实验环境，把实验环境当成一台远端的 SSH 服务器来使用，连接后在 SSH 客户端中进行实验操作。由于需要联网，SSH 直连也是会员才能使用的功能。

![图片描述](https://doc.shiyanlou.com/courses/uid871732-20200707-1594089658556/wm)

## 总结

**我们来回顾一下今天的知识点：**

- 流程控制
- 分支语句
- 循环语句
- 跳转语句

请课下把这些知识整理在你的 「脑图」 中，类似这样：

![图片描述](https://doc.shiyanlou.com/courses/3821/1656046/d1deb3591bc8ab64ef7063767a2f1988-0/wm)

课后，我们为你准备了一个挑战 —— 用前面所学的知识完成一个小游戏。我们趁热打铁前进吧！

![图片描述](https://doc.shiyanlou.com/courses/uid8504-20190514-1557810582507)
